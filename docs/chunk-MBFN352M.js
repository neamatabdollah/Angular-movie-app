import{a as E}from"./chunk-4DWQLRA4.js";import{a as O}from"./chunk-ORRKRFYI.js";import{Da as D,Ea as P,ia as W,p as k,q as T}from"./chunk-MMXOUGBB.js";import{Ba as g,Da as o,Eb as m,Fb as y,Gb as f,Ia as a,Oa as S,Sb as I,Ta as C,Ub as M,ba as d,ca as v,cb as h,fc as c,hb as b,ka as w,kb as i,lb as n,mb as x,qb as _,tb as u,ub as l}from"./chunk-2SLO6VUG.js";function j(r,e){if(r&1){let t=_();i(0,"div",1),u("click",function(){d(t);let p=l();return v(p.onCardClick())}),i(1,"div",2),x(2,"img",3),i(3,"div",4),m(4),I(5,"number"),n(),i(6,"p-button",5),u("onClick",function(p){d(t);let V=l();return v(V.toggleWishlist(p))}),n()(),i(7,"div",6)(8,"h3",7),m(9),n(),i(10,"p",8),m(11),n()()()}if(r&2){let t=l();o(2),h("src",t.getImageUrl(t.tvShow.poster_path),g)("alt",t.title()),o(2),f(" ",M(5,9,t.tvShow.vote_average*10,"1.0-0")," "),o(2),h("icon",t.isInWishlist()?"pi pi-heart-fill":"pi pi-heart")("text",!0)("rounded",!0)("severity",t.isInWishlist()?"danger":"secondary"),o(3),f(" ",t.title()," "),o(2),y(t.getFormattedDate())}}var U=class r{constructor(e,t,s){this.movieService=e;this.wishlistService=t;this.messageService=s}tvShow;type="tv";cardClick=new w;title=c(()=>this.tvShow.name);releaseDate=c(()=>this.tvShow.first_air_date);isInWishlist=c(()=>this.wishlistService.isInWishlist(this.tvShow.id,this.type));getImageUrl(e){return this.movieService.getImageUrl(e??"")}toggleWishlist(e){e.stopPropagation(),console.log(this.tvShow.name),this.isInWishlist()?(this.wishlistService.removeFromWishlist(this.tvShow.id,this.type),this.messageService.add({severity:"info",summary:"Removed",detail:`${this.tvShow.name} removed from wishlist`,life:3e3})):(this.wishlistService.addToWishlist(this.tvShow,this.type),this.messageService.add({severity:"success",summary:"Added",detail:`${this.tvShow.name} added to wishlist`,life:3e3}))}onCardClick(){this.cardClick.emit()}getFormattedDate(){let e=this.releaseDate();return e?new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"N/A"}static \u0275fac=function(t){return new(t||r)(a(E),a(O),a(W))};static \u0275cmp=S({type:r,selectors:[["app-tv-card"]],inputs:{tvShow:"tvShow",type:"type"},outputs:{cardClick:"cardClick"},decls:1,vars:1,consts:[[1,"w-full","max-w-12rem","mb-5","transition-transform","transition-duration-300","cursor-pointer","tv-card"],[1,"w-full","max-w-12rem","mb-5","transition-transform","transition-duration-300","cursor-pointer","tv-card",3,"click"],[1,"relative","border-round-lg","overflow-hidden","shadow-2"],["loading","lazy",1,"w-full","h-20rem","block","tv-poster",3,"src","alt"],[1,"absolute","bottom-1","left-1","bg-black-alpha-90","text-white","px-2","py-1","border-round-sm","text-sm","font-semibold"],["size","small",1,"wishlist-btn","bg-white-alpha-70",3,"onClick","icon","text","rounded","severity"],[1,"pt-3","px-1"],[1,"m-0","mb-1","text-base","font-semibold","text-gray-900","line-height-3","white-space-nowrap","overflow-hidden","text-overflow-ellipsis"],[1,"m-0","text-sm","text-gray-500"]],template:function(t,s){t&1&&C(0,j,12,12,"div",0),t&2&&b(s.tvShow?0:-1)},dependencies:[T,k,P,D],styles:[".tv-card[_ngcontent-%COMP%]:hover{transform:translateY(-6px)}.tv-poster[_ngcontent-%COMP%]{object-fit:cover}[_nghost-%COMP%]     .wishlist-btn .p-button{position:absolute;top:8px;right:8px}[_nghost-%COMP%]     .wishlist-btn .p-button.p-button-text{color:#6b7280!important}[_nghost-%COMP%]     .wishlist-btn .p-button.p-button-text:hover{background-color:#fffffff2!important}[_nghost-%COMP%]     .wishlist-btn .p-button.p-button-danger{color:#ef4444!important}"]})};export{U as a};
