import{a as G,b as H,c as J,d as K,e as Q,f as X}from"./chunk-JOTNQ3FO.js";import"./chunk-AN7MBSHW.js";import{a as q}from"./chunk-P3HNPL7P.js";import{d as $,e as L,f as O}from"./chunk-OXY52CCX.js";import{a as z,b as F}from"./chunk-ZSR23T52.js";import{a as P}from"./chunk-4DWQLRA4.js";import{a as V}from"./chunk-ORRKRFYI.js";import{f as k,h as E}from"./chunk-JYLBADAV.js";import{Ca as A,Ea as N,ia as j,ma as U,o as D,p as W,q as R,ua as B}from"./chunk-MMXOUGBB.js";import{Ba as u,Da as o,Eb as m,Gb as h,Hb as T,Ia as p,Oa as x,Sb as f,Ta as d,Tb as I,Ub as M,ba as _,ca as S,cb as l,hb as v,ib as w,jb as b,kb as n,lb as r,mb as a,qb as C,tb as y,ub as s}from"./chunk-2SLO6VUG.js";var Z=(t,i)=>i.id;function ee(t,i){if(t&1&&a(0,"img",16),t&2){let e=s(3);l("src","https://image.tmdb.org/t/p/w200"+e.tvShow.networks[0].logo_path,u)("alt",e.tvShow.networks[0].name)}}function te(t,i){if(t&1&&(n(0,"span",17),m(1),r()),t&2){let e=s(3);o(),h("(",e.tvShow.tagline,")")}}function ie(t,i){if(t&1&&(n(0,"h2",15),m(1),d(2,ee,1,2,"img",16),r(),d(3,te,2,1,"span",17),n(4,"p",18),m(5),f(6,"date"),r(),n(7,"div",19),a(8,"p-rating",20),n(9,"span",21),m(10),f(11,"number"),r()()),t&2){let e=s(2);o(),h(" ",e.tvShow.name," "),o(),v(e.tvShow.networks&&e.tvShow.networks[0].logo_path?2:-1),o(),v(e.tvShow.tagline?3:-1),o(2),h(" Release date: ",M(6,8,e.tvShow.first_air_date,"MMM dd, yyyy")," "),o(3),l("ngModel",e.getRatingStars())("readonly",!0)("stars",5),o(2),h("(",I(11,11,e.tvShow.vote_count)," votes)")}}function oe(t,i){if(t&1&&a(0,"p-chip",9),t&2){let e=i.$implicit;l("label",e.name)}}function ne(t,i){if(t&1&&(n(0,"div",12),a(1,"img",22),r()),t&2){let e=s(2);o(),l("src","https://image.tmdb.org/t/p/w200"+e.tvShow.production_companies[0].logo_path,u)("alt",e.tvShow.production_companies[0].name)}}function re(t,i){if(t&1&&(n(0,"div",13),a(1,"p-chip",23),r()),t&2){let e=s(2);o(),l("label",e.tvShow.production_companies[0].name)}}function ae(t,i){if(t&1&&(n(0,"div",14)(1,"a",24),a(2,"i",25),m(3," Website "),r()()),t&2){let e=s(2);o(),l("href",e.tvShow.homepage,u)}}function le(t,i){if(t&1){let e=C();n(0,"div",0)(1,"div",1)(2,"p-card",2)(3,"div"),a(4,"img",3),r(),n(5,"button",4),y("click",function(){_(e);let c=s();return S(c.toggleWishlist())}),r()()(),n(6,"div",5)(7,"p-card"),d(8,ie,12,13,"ng-template",6),n(9,"p",7),m(10),r(),a(11,"p-divider"),n(12,"div",8),w(13,oe,1,1,"p-chip",9,Z),r(),a(15,"p-divider"),n(16,"div",10)(17,"span",11),m(18),r()(),a(19,"p-divider"),d(20,ne,2,2,"div",12)(21,re,2,1,"div",13)(22,ae,4,1,"div",14),r()()()}if(t&2){let e=s();o(4),l("src",e.getImageUrl(e.tvShow.poster_path),u)("alt",e.tvShow.name),o(),l("label",e.isInWishlist()?"Remove from Wishlist":"Add to Wishlist")("icon",e.isInWishlist()?"pi pi-heart-fill":"pi pi-heart")("severity",e.isInWishlist()?"danger":"primary"),o(5),h(" ",e.tvShow.overview," "),o(3),b(e.tvShow.genres),o(5),T("",e.tvShow.number_of_seasons," Seosons - ",e.tvShow.number_of_episodes," episodes"),o(2),v(e.tvShow.production_companies&&e.tvShow.production_companies.length>0&&e.tvShow.production_companies[0].logo_path?20:e.tvShow.production_companies&&e.tvShow.production_companies.length>0?21:-1),o(2),v(e.tvShow.homepage?22:-1)}}var Y=class t{constructor(i,e,g,c,se,me){this.route=i;this.movieService=e;this.languageService=g;this.wishlistService=c;this.messageService=se;this.router=me}tvShow;recommendations=[];reviews=[];ngOnInit(){this.route.paramMap.subscribe(i=>{let e=Number(i.get("id")||"0");if(e){let g=this.languageService.language().code;this.movieService.getTvShowDetails(e,g).subscribe({next:c=>this.tvShow=c,error:c=>console.error(c)})}})}getImageUrl(i){return this.movieService.getImageUrl(i??"")}isInWishlist(){return this.wishlistService.isInWishlist(this.tvShow.id,"tv")}toggleWishlist(){this.isInWishlist()?(this.wishlistService.removeFromWishlist(this.tvShow.id,"tv"),this.messageService.add({severity:"info",summary:"Removed",detail:`${this.tvShow.name} removed from wishlist`,life:3e3})):(this.wishlistService.addToWishlist(this.tvShow,"tv"),this.messageService.add({severity:"success",summary:"Added",detail:`${this.tvShow.name} added to wishlist`,life:3e3}))}navigateToDetails(i){this.router.navigate(["/tv",i])}getRatingStars(){let i=this.tvShow;return i?Math.round(i.vote_average/2):0}static \u0275fac=function(e){return new(e||t)(p(k),p(P),p(q),p(V),p(j),p(E))};static \u0275cmp=x({type:t,selectors:[["app-tv-details"]],decls:1,vars:1,consts:[[1,"flex","flex-column","justify-center","sm:flex-row","px-4","pt-5"],[1,"col-12","sm:col-6","md:col-4"],[1,"w-full"],[1,"shadow-4",2,"border-radius","12px","display","block","margin","auto","width","80%",3,"src","alt"],["pButton","",1,"button-text","mt-3","shadow-3",2,"display","block","margin","auto","width","80%",3,"click","label","icon","severity"],[1,"col-12","sm:col-6","md:col-8"],["pTemplate","header",1,"px-3"],[1,"tvShow-overview","text-700","line-height-3","mt-0","mb-4","text-lg"],[1,"flex","flex-wrap","gap-2"],["styleClass","genre-chip",1,"bg-yellow-400",3,"label"],[1,"flex","align-items-center","gap-2"],[1,"font-semibold","text-600"],[1,"flex","flex-wrap","gap-3","mb-5","py-2"],[1,"mb-5"],[1,"my-5"],[1,"mb-0","mt-5","px-3"],[1,"max-w-2rem","max-h-1rem","ml-3",2,"object-fit","contain","cursor","pointer",3,"src","alt"],[1,"text-gray-400","mb-0","mt-2","px-3","block"],[1,"text-gray-400","mb-0","px-3"],[1,"flex","align-items-center","gap-3","mb-0","p-3"],["styleClass","custom-rating",3,"ngModel","readonly","stars"],[1,"text-600","font-semibold"],[1,"max-w-8rem","max-h-4rem",2,"object-fit","contain",3,"src","alt"],["styleClass","production-chip",1,"bg-blue-100",3,"label"],["target","_blank",1,"website-link","border-yellow-400","text-900","font-semibold","transition-colors","transition-duration-200","no-underline","border-1","border-round-xl","p-3","hover:bg-yellow-300",3,"href"],[1,"pi","pi-external-link","mr-2"]],template:function(e,g){e&1&&d(0,le,23,10,"div",0),e&2&&v(g.tvShow?0:-1)},dependencies:[R,W,D,F,z,U,N,A,B,H,G,K,J,O,$,L,X,Q],encapsulation:2})};export{Y as TvDetailsComponent};
