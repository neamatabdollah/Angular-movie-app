import{b as T}from"./chunk-ZSR23T52.js";import{a as U}from"./chunk-FIC32DHC.js";import{a as V}from"./chunk-ORRKRFYI.js";import{Da as E,Ea as O,ia as W,p as k,q as D,ua as P}from"./chunk-MMXOUGBB.js";import{Ba as C,Da as o,Eb as l,Fb as M,Gb as f,Oa as b,Sb as S,Ta as x,Ub as I,W as s,ba as c,ca as v,cb as h,fc as m,hb as w,ka as g,kb as i,lb as n,mb as _,qb as y,tb as u,ub as a}from"./chunk-2SLO6VUG.js";function z(r,e){if(r&1){let t=y();i(0,"div",1),u("click",function(){c(t);let p=a();return v(p.onCardClick())}),i(1,"div",2),_(2,"img",3),i(3,"div",4),l(4),S(5,"number"),n(),i(6,"p-button",5),u("onClick",function(p){c(t);let F=a();return v(F.toggleWishlist(p))}),n()(),i(7,"div",6)(8,"h3",7),l(9),n(),i(10,"p",8),l(11),n()()()}if(r&2){let t=a();o(2),h("src",t.getImageUrl(t.item.poster_path||""),C)("alt",t.title()),o(2),f(" ",I(5,9,t.item.vote_average*10,"1.0-0")," "),o(2),h("icon",t.isInWishlist()?"pi pi-heart-fill":"pi pi-heart")("text",!0)("rounded",!0)("severity",t.isInWishlist()?"danger":"secondary"),o(3),f(" ",t.title()," "),o(2),M(t.getFormattedDate())}}var B=class r{item;type="movie";cardClick=new g;movieService=s(U);wishlistService=s(V);messageService=s(W);title=m(()=>this.item.title);releaseDate=m(()=>this.item.release_date);isInWishlist=m(()=>this.wishlistService.isInWishlist(this.item.id,this.type));getImageUrl(e){return this.movieService.getImageUrl(e??"")}toggleWishlist(e){e.stopPropagation(),this.isInWishlist()?this.wishlistService.removeFromWishlist(this.item.id,this.type)&&this.messageService.add({severity:"info",summary:"Removed",detail:`${this.title()} removed from wishlist`,life:3e3}):this.wishlistService.addToWishlist(this.item,this.type)&&this.messageService.add({severity:"success",summary:"Added",detail:`${this.title()} added to wishlist`,life:3e3})}onCardClick(){this.cardClick.emit()}getFormattedDate(){let e=this.releaseDate();return e?new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"N/A"}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=b({type:r,selectors:[["app-movie-card"]],inputs:{item:"item",type:"type"},outputs:{cardClick:"cardClick"},decls:1,vars:1,consts:[[1,"w-full","max-w-12rem","mb-5","transition-transform","transition-duration-300","cursor-pointer","movie-card"],[1,"w-full","max-w-12rem","mb-5","transition-transform","transition-duration-300","cursor-pointer","movie-card",3,"click"],[1,"relative","border-round-lg","overflow-hidden","shadow-2"],["loading","lazy",1,"w-full","h-20rem","block","movie-poster",3,"src","alt"],[1,"absolute","bottom-1","left-1","bg-black-alpha-90","text-white","px-2","py-1","border-round-sm","text-sm","font-semibold"],["size","small",1,"wishlist-btn","bg-white-alpha-70",3,"onClick","icon","text","rounded","severity"],[1,"pt-3","px-1"],[1,"m-0","mb-1","text-base","font-semibold","text-gray-900","line-height-3","white-space-nowrap","overflow-hidden","text-overflow-ellipsis"],[1,"m-0","text-sm","text-gray-500"]],template:function(t,d){t&1&&x(0,z,12,12,"div",0),t&2&&w(d.item?0:-1)},dependencies:[D,k,T,O,E,P],styles:[".movie-card[_ngcontent-%COMP%]:hover{transform:translateY(-6px)}.movie-poster[_ngcontent-%COMP%]{object-fit:cover}[_nghost-%COMP%]     .wishlist-btn .p-button{position:absolute;top:8px;right:8px}[_nghost-%COMP%]     .wishlist-btn .p-button.p-button-text{color:#6b7280!important}[_nghost-%COMP%]     .wishlist-btn .p-button.p-button-text:hover{background-color:#fffffff2!important}[_nghost-%COMP%]     .wishlist-btn .p-button.p-button-danger{color:#ef4444!important}"]})};export{B as a};
