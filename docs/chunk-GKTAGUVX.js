import{b as T}from"./chunk-ZSR23T52.js";import{a as U}from"./chunk-4DWQLRA4.js";import{a as V}from"./chunk-ORRKRFYI.js";import{Da as E,Ea as O,ia as D,p as k,q as W,ua as P}from"./chunk-MMXOUGBB.js";import{Ba as C,Da as o,Eb as l,Fb as S,Gb as f,Ia as a,Oa as b,Sb as y,Ta as x,Ub as I,ba as p,ca as v,cb as h,fc as c,hb as w,ka as g,kb as i,lb as n,mb as _,qb as M,tb as u,ub as m}from"./chunk-2SLO6VUG.js";function F(r,t){if(r&1){let e=M();i(0,"div",1),u("click",function(){p(e);let d=m();return v(d.onCardClick())}),i(1,"div",2),_(2,"img",3),i(3,"div",4),l(4),y(5,"number"),n(),i(6,"p-button",5),u("onClick",function(d){p(e);let B=m();return v(B.toggleWishlist(d))}),n()(),i(7,"div",6)(8,"h3",7),l(9),n(),i(10,"p",8),l(11),n()()()}if(r&2){let e=m();o(2),h("src",e.getImageUrl(e.item.poster_path||""),C)("alt",e.title()),o(2),f(" ",I(5,9,e.item.vote_average*10,"1.0-0")," "),o(2),h("icon",e.isInWishlist()?"pi pi-heart-fill":"pi pi-heart")("text",!0)("rounded",!0)("severity",e.isInWishlist()?"danger":"secondary"),o(3),f(" ",e.title()," "),o(2),S(e.getFormattedDate())}}var j=class r{constructor(t,e,s){this.movieService=t;this.wishlistService=e;this.messageService=s}item;type="movie";cardClick=new g;title=c(()=>this.item.title);releaseDate=c(()=>this.item.release_date);isInWishlist=c(()=>this.wishlistService.isInWishlist(this.item.id,this.type));getImageUrl(t){return this.movieService.getImageUrl(t??"")}toggleWishlist(t){t.stopPropagation(),this.isInWishlist()?this.wishlistService.removeFromWishlist(this.item.id,this.type)&&this.messageService.add({severity:"info",summary:"Removed",detail:`${this.title()} removed from wishlist`,life:3e3}):this.wishlistService.addToWishlist(this.item,this.type)&&this.messageService.add({severity:"success",summary:"Added",detail:`${this.title()} added to wishlist`,life:3e3})}onCardClick(){this.cardClick.emit()}getFormattedDate(){let t=this.releaseDate();return t?new Date(t).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"N/A"}static \u0275fac=function(e){return new(e||r)(a(U),a(V),a(D))};static \u0275cmp=b({type:r,selectors:[["app-movie-card"]],inputs:{item:"item",type:"type"},outputs:{cardClick:"cardClick"},decls:1,vars:1,consts:[[1,"w-full","max-w-12rem","mb-5","transition-transform","transition-duration-300","cursor-pointer","movie-card"],[1,"w-full","max-w-12rem","mb-5","transition-transform","transition-duration-300","cursor-pointer","movie-card",3,"click"],[1,"relative","border-round-lg","overflow-hidden","shadow-2"],["loading","lazy",1,"w-full","h-20rem","block","movie-poster",3,"src","alt"],[1,"absolute","bottom-1","left-1","bg-black-alpha-90","text-white","px-2","py-1","border-round-sm","text-sm","font-semibold"],["size","small",1,"wishlist-btn","bg-white-alpha-70",3,"onClick","icon","text","rounded","severity"],[1,"pt-3","px-1"],[1,"m-0","mb-1","text-base","font-semibold","text-gray-900","line-height-3","white-space-nowrap","overflow-hidden","text-overflow-ellipsis"],[1,"m-0","text-sm","text-gray-500"]],template:function(e,s){e&1&&x(0,F,12,12,"div",0),e&2&&w(s.item?0:-1)},dependencies:[W,k,T,O,E,P],styles:[".movie-card[_ngcontent-%COMP%]:hover{transform:translateY(-6px)}.movie-poster[_ngcontent-%COMP%]{object-fit:cover}[_nghost-%COMP%]     .wishlist-btn .p-button{position:absolute;top:8px;right:8px}[_nghost-%COMP%]     .wishlist-btn .p-button.p-button-text{color:#6b7280!important}[_nghost-%COMP%]     .wishlist-btn .p-button.p-button-text:hover{background-color:#fffffff2!important}[_nghost-%COMP%]     .wishlist-btn .p-button.p-button-danger{color:#ef4444!important}"]})};export{j as a};
