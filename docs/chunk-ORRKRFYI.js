import{Q as n,a as r,b as a,fc as o,pa as m}from"./chunk-2SLO6VUG.js";var d=class h{wishlistItems=m([]);wishlist=o(()=>this.wishlistItems());wishlistCount=o(()=>this.wishlistItems().length);movieWishlist=o(()=>this.wishlistItems().filter(t=>t.type==="movie"));tvWishlist=o(()=>this.wishlistItems().filter(t=>t.type==="tv"));constructor(){this.loadWishlist()}loadWishlist(){let t=localStorage.getItem("movieWishlist");if(t)try{let i=JSON.parse(t);this.wishlistItems.set(i.map(s=>a(r({},s),{addedAt:new Date(s.addedAt)})))}catch(i){console.error("Error loading wishlist:",i)}}saveWishlist(){localStorage.setItem("movieWishlist",JSON.stringify(this.wishlistItems()))}addToWishlist(t,i){if(!this.wishlistItems().find(e=>e.id===t.id&&e.type===i)){let e={id:t.id,type:i,data:t,addedAt:new Date};return this.wishlistItems.update(l=>[...l,e]),this.saveWishlist(),!0}return!1}removeFromWishlist(t,i){let s=this.wishlistItems().length;return this.wishlistItems.update(e=>e.filter(l=>!(l.id===t&&l.type===i))),this.wishlistItems().length<s?(this.saveWishlist(),!0):!1}isInWishlist(t,i){return this.wishlistItems().some(s=>s.id===t&&s.type===i)}clearWishlist(){this.wishlistItems.set([]),this.saveWishlist()}getWishlistItem(t,i){return this.wishlistItems().find(s=>s.id===t&&s.type===i)}static \u0275fac=function(i){return new(i||h)};static \u0275prov=n({token:h,factory:h.\u0275fac,providedIn:"root"})};export{d as a};
