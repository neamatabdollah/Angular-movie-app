import{a as E}from"./chunk-JKHXMOFP.js";import{a as b,b as R}from"./chunk-3TIHMZQL.js";import"./chunk-YCCOLYPH.js";import{a as D}from"./chunk-GH2FTGFA.js";import"./chunk-OXY52CCX.js";import{a as L}from"./chunk-UNBSZ3SR.js";import"./chunk-GWELZMDX.js";import"./chunk-F2X3VGZZ.js";import"./chunk-ZSR23T52.js";import{a as T}from"./chunk-FIC32DHC.js";import"./chunk-ORRKRFYI.js";import{h as S}from"./chunk-JYLBADAV.js";import{q as P}from"./chunk-MMXOUGBB.js";import{Da as l,Eb as g,Gb as y,Mb as w,Oa as f,Ta as x,W as p,ba as v,ca as _,cb as u,hb as M,ib as h,jb as C,kb as o,lb as n,qb as d,tb as m,ub as a}from"./chunk-2SLO6VUG.js";var k=()=>[20],F=(t,i)=>i.id;function I(t,i){if(t&1){let e=d();o(0,"app-movie-card",5),m("click",function(){let c=v(e).$implicit,s=a(2);return _(s.navigateToDetails(c.id))}),n()}if(t&2){let e=i.$implicit;u("item",e)}}function Q(t,i){if(t&1&&(o(0,"div",1),h(1,I,1,1,"app-movie-card",4,F),n()),t&2){let e=a();l(),C(e.searchResults)}}function N(t,i){if(t&1&&(o(0,"p",2),g(1),n()),t&2){let e=a();l(),y(" No results found for \u201C",e.searchQuery,`\u201D.
`)}}function $(t,i){if(t&1){let e=d();o(0,"app-movie-card",5),m("click",function(){let c=v(e).$implicit,s=a(2);return _(s.navigateToDetails(c.id))}),n()}if(t&2){let e=i.$implicit;u("item",e)}}function j(t,i){if(t&1){let e=d();o(0,"div",1)(1,"h1",6),g(2,"\u{1F3AC} Now Playing"),n(),o(3,"div",1),h(4,$,1,1,"app-movie-card",4,F),n(),o(6,"div",7)(7,"p-paginator",8),m("onPageChange",function(c){v(e);let s=a();return _(s.onPageChange(c))}),n()()()}if(t&2){let e=a();l(4),C(e.movies),l(3),u("rows",20)("totalRecords",e.totalResults)("rowsPerPageOptions",w(3,k))}}function O(t,i){t&1&&(o(0,"p",3),g(1,"Loading Movies list..."),n())}var V=class t{movies=[];totalResults=0;currentPage=1;searchResults=[];searchQuery="";movieService=p(T);router=p(S);language=p(D);ngOnInit(){this.getMovies()}getMovies(){let i=this.language.language().code;this.movieService.getNowPlayingMovies(this.currentPage,i).subscribe({next:e=>{this.movies=e.results,this.totalResults=e.total_results},error:e=>console.error(e)})}onPageChange(i){this.currentPage=i.page+1,this.getMovies(),window.scrollTo({top:0,behavior:"smooth"})}navigateToDetails(i){this.router.navigate(["/movie",i])}handleSearch(i){if(this.searchQuery=i.trim(),this.searchQuery.length===0){this.searchResults=[],this.getMovies();return}let e=this.language.language().code;this.movieService.searchMovies(this.searchQuery,this.currentPage,e).subscribe(r=>{this.searchResults=r.results})}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=f({type:t,selectors:[["app-movies-list"]],decls:5,vars:1,consts:[[3,"search"],[1,"flex","justify-content-between","flex-wrap","gap-2","py-10",2,"width","95%","margin","auto"],[1,"text-center","text-lg","text-gray-500","py-10"],[1,"p-text-500"],["type","movie",3,"item"],["type","movie",3,"click","item"],[1,"text-3xl","font-bold","mb-6","text-gray-900"],[1,"flex","justify-center","mt-10"],[3,"onPageChange","rows","totalRecords","rowsPerPageOptions"]],template:function(e,r){e&1&&(o(0,"app-search",0),m("search",function(s){return r.handleSearch(s)}),n(),x(1,Q,3,0,"div",1)(2,N,2,1,"p",2)(3,j,8,4,"div",1)(4,O,2,0,"p",3)),e&2&&(l(),M(r.searchResults.length>0?1:r.searchQuery.length>0?2:r.movies.length>0?3:4))},dependencies:[P,L,R,b,E],encapsulation:2})};export{V as MoviesListComponent};
