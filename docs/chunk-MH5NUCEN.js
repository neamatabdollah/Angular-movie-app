import{a as E}from"./chunk-FIC32DHC.js";import{a as O}from"./chunk-ORRKRFYI.js";import{Da as W,Ea as P,ia as D,p as T,q as M}from"./chunk-MMXOUGBB.js";import{Ba as g,Da as o,Eb as l,Fb as y,Gb as f,Oa as C,Sb as I,Ta as S,Ub as k,W as s,ba as d,ca as v,cb as h,fc as m,hb as b,ka as w,kb as i,lb as r,mb as x,qb as _,tb as u,ub as a}from"./chunk-2SLO6VUG.js";function F(n,e){if(n&1){let t=_();i(0,"div",1),u("click",function(){d(t);let c=a();return v(c.onCardClick())}),i(1,"div",2),x(2,"img",3),i(3,"div",4),l(4),I(5,"number"),r(),i(6,"p-button",5),u("onClick",function(c){d(t);let V=a();return v(V.toggleWishlist(c))}),r()(),i(7,"div",6)(8,"h3",7),l(9),r(),i(10,"p",8),l(11),r()()()}if(n&2){let t=a();o(2),h("src",t.getImageUrl(t.tvShow.poster_path),g)("alt",t.title()),o(2),f(" ",k(5,9,t.tvShow.vote_average*10,"1.0-0")," "),o(2),h("icon",t.isInWishlist()?"pi pi-heart-fill":"pi pi-heart")("text",!0)("rounded",!0)("severity",t.isInWishlist()?"danger":"secondary"),o(3),f(" ",t.title()," "),o(2),y(t.getFormattedDate())}}var U=class n{tvShow;type="tv";cardClick=new w;movieService=s(E);wishlistService=s(O);messageService=s(D);title=m(()=>this.tvShow.name);releaseDate=m(()=>this.tvShow.first_air_date);isInWishlist=m(()=>this.wishlistService.isInWishlist(this.tvShow.id,this.type));getImageUrl(e){return this.movieService.getImageUrl(e??"")}toggleWishlist(e){e.stopPropagation(),console.log(this.tvShow.name),this.isInWishlist()?(this.wishlistService.removeFromWishlist(this.tvShow.id,this.type),this.messageService.add({severity:"info",summary:"Removed",detail:`${this.tvShow.name} removed from wishlist`,life:3e3})):(this.wishlistService.addToWishlist(this.tvShow,this.type),this.messageService.add({severity:"success",summary:"Added",detail:`${this.tvShow.name} added to wishlist`,life:3e3}))}onCardClick(){this.cardClick.emit()}getFormattedDate(){let e=this.releaseDate();return e?new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"N/A"}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=C({type:n,selectors:[["app-tv-card"]],inputs:{tvShow:"tvShow",type:"type"},outputs:{cardClick:"cardClick"},decls:1,vars:1,consts:[[1,"w-full","max-w-12rem","mb-5","transition-transform","transition-duration-300","cursor-pointer","tv-card"],[1,"w-full","max-w-12rem","mb-5","transition-transform","transition-duration-300","cursor-pointer","tv-card",3,"click"],[1,"relative","border-round-lg","overflow-hidden","shadow-2"],["loading","lazy",1,"w-full","h-20rem","block","tv-poster",3,"src","alt"],[1,"absolute","bottom-1","left-1","bg-black-alpha-90","text-white","px-2","py-1","border-round-sm","text-sm","font-semibold"],["size","small",1,"wishlist-btn","bg-white-alpha-70",3,"onClick","icon","text","rounded","severity"],[1,"pt-3","px-1"],[1,"m-0","mb-1","text-base","font-semibold","text-gray-900","line-height-3","white-space-nowrap","overflow-hidden","text-overflow-ellipsis"],[1,"m-0","text-sm","text-gray-500"]],template:function(t,p){t&1&&S(0,F,12,12,"div",0),t&2&&b(p.tvShow?0:-1)},dependencies:[M,T,P,W],styles:[".tv-card[_ngcontent-%COMP%]:hover{transform:translateY(-6px)}.tv-poster[_ngcontent-%COMP%]{object-fit:cover}[_nghost-%COMP%]     .wishlist-btn .p-button{position:absolute;top:8px;right:8px}[_nghost-%COMP%]     .wishlist-btn .p-button.p-button-text{color:#6b7280!important}[_nghost-%COMP%]     .wishlist-btn .p-button.p-button-text:hover{background-color:#fffffff2!important}[_nghost-%COMP%]     .wishlist-btn .p-button.p-button-danger{color:#ef4444!important}"]})};export{U as a};
