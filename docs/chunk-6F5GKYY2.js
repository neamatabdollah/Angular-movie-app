import{a as G,b as H,c as J,d as K,e as Q,f as X}from"./chunk-JOTNQ3FO.js";import"./chunk-AN7MBSHW.js";import{a as q}from"./chunk-GH2FTGFA.js";import{d as A,e as L,f as O}from"./chunk-OXY52CCX.js";import{a as F,b as P}from"./chunk-ZSR23T52.js";import{a as V}from"./chunk-FIC32DHC.js";import{a as $}from"./chunk-ORRKRFYI.js";import{f as E,h as R}from"./chunk-JYLBADAV.js";import{Ca as j,Ea as z,ia as U,ma as B,o as M,p as k,q as W,ua as N}from"./chunk-MMXOUGBB.js";import{Ba as g,Da as o,Eb as m,Gb as v,Hb as T,Oa as w,Sb as f,Ta as d,Tb as D,Ub as I,W as p,ba as u,ca as x,cb as l,hb as c,ib as S,jb as b,kb as n,lb as a,mb as r,qb as C,tb as y,ub as s}from"./chunk-2SLO6VUG.js";var Z=(t,i)=>i.id;function ee(t,i){if(t&1&&r(0,"img",16),t&2){let e=s(3);l("src","https://image.tmdb.org/t/p/w200"+e.tvShow.networks[0].logo_path,g)("alt",e.tvShow.networks[0].name)}}function te(t,i){if(t&1&&(n(0,"span",17),m(1),a()),t&2){let e=s(3);o(),v("(",e.tvShow.tagline,")")}}function ie(t,i){if(t&1&&(n(0,"h2",15),m(1),d(2,ee,1,2,"img",16),a(),d(3,te,2,1,"span",17),n(4,"p",18),m(5),f(6,"date"),a(),n(7,"div",19),r(8,"p-rating",20),n(9,"span",21),m(10),f(11,"number"),a()()),t&2){let e=s(2);o(),v(" ",e.tvShow.name," "),o(),c(e.tvShow.networks&&e.tvShow.networks[0].logo_path?2:-1),o(),c(e.tvShow.tagline?3:-1),o(2),v(" Release date: ",I(6,8,e.tvShow.first_air_date,"MMM dd, yyyy")," "),o(3),l("ngModel",e.getRatingStars())("readonly",!0)("stars",5),o(2),v("(",D(11,11,e.tvShow.vote_count)," votes)")}}function oe(t,i){if(t&1&&r(0,"p-chip",9),t&2){let e=i.$implicit;l("label",e.name)}}function ne(t,i){if(t&1&&(n(0,"div",12),r(1,"img",22),a()),t&2){let e=s(2);o(),l("src","https://image.tmdb.org/t/p/w200"+e.tvShow.production_companies[0].logo_path,g)("alt",e.tvShow.production_companies[0].name)}}function ae(t,i){if(t&1&&(n(0,"div",13),r(1,"p-chip",23),a()),t&2){let e=s(2);o(),l("label",e.tvShow.production_companies[0].name)}}function re(t,i){if(t&1&&(n(0,"div",14)(1,"a",24),r(2,"i",25),m(3," Website "),a()()),t&2){let e=s(2);o(),l("href",e.tvShow.homepage,g)}}function le(t,i){if(t&1){let e=C();n(0,"div",0)(1,"div",1)(2,"p-card",2)(3,"div"),r(4,"img",3),a(),n(5,"button",4),y("click",function(){u(e);let h=s();return x(h.toggleWishlist())}),a()()(),n(6,"div",5)(7,"p-card"),d(8,ie,12,13,"ng-template",6),n(9,"p",7),m(10),a(),r(11,"p-divider"),n(12,"div",8),S(13,oe,1,1,"p-chip",9,Z),a(),r(15,"p-divider"),n(16,"div",10)(17,"span",11),m(18),a()(),r(19,"p-divider"),d(20,ne,2,2,"div",12)(21,ae,2,1,"div",13)(22,re,4,1,"div",14),a()()()}if(t&2){let e=s();o(4),l("src",e.getImageUrl(e.tvShow.poster_path),g)("alt",e.tvShow.name),o(),l("label",e.isInWishlist()?"Remove from Wishlist":"Add to Wishlist")("icon",e.isInWishlist()?"pi pi-heart-fill":"pi pi-heart")("severity",e.isInWishlist()?"danger":"primary"),o(5),v(" ",e.tvShow.overview," "),o(3),b(e.tvShow.genres),o(5),T("",e.tvShow.number_of_seasons," Seosons - ",e.tvShow.number_of_episodes," episodes"),o(2),c(e.tvShow.production_companies&&e.tvShow.production_companies.length>0&&e.tvShow.production_companies[0].logo_path?20:e.tvShow.production_companies&&e.tvShow.production_companies.length>0?21:-1),o(2),c(e.tvShow.homepage?22:-1)}}var Y=class t{route=p(E);movieService=p(V);languageService=p(q);wishlistService=p($);messageService=p(U);router=p(R);tvShow;recommendations=[];reviews=[];ngOnInit(){this.route.paramMap.subscribe(i=>{let e=Number(i.get("id")||"0");if(e){let _=this.languageService.language().code;this.movieService.getTvShowDetails(e,_).subscribe({next:h=>this.tvShow=h,error:h=>console.error(h)})}})}getImageUrl(i){return this.movieService.getImageUrl(i??"")}isInWishlist(){return this.wishlistService.isInWishlist(this.tvShow.id,"tv")}toggleWishlist(){this.isInWishlist()?(this.wishlistService.removeFromWishlist(this.tvShow.id,"tv"),this.messageService.add({severity:"info",summary:"Removed",detail:`${this.tvShow.name} removed from wishlist`,life:3e3})):(this.wishlistService.addToWishlist(this.tvShow,"tv"),this.messageService.add({severity:"success",summary:"Added",detail:`${this.tvShow.name} added to wishlist`,life:3e3}))}navigateToDetails(i){this.router.navigate(["/tv",i])}getRatingStars(){let i=this.tvShow;return i?Math.round(i.vote_average/2):0}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=w({type:t,selectors:[["app-tv-details"]],decls:1,vars:1,consts:[[1,"flex","flex-column","justify-center","sm:flex-row","px-4","pt-5"],[1,"col-12","sm:col-6","md:col-4"],[1,"w-full"],[1,"shadow-4",2,"border-radius","12px","display","block","margin","auto","width","80%",3,"src","alt"],["pButton","",1,"button-text","mt-3","shadow-3",2,"display","block","margin","auto","width","80%",3,"click","label","icon","severity"],[1,"col-12","sm:col-6","md:col-8"],["pTemplate","header",1,"px-3"],[1,"tvShow-overview","text-700","line-height-3","mt-0","mb-4","text-lg"],[1,"flex","flex-wrap","gap-2"],["styleClass","genre-chip",1,"bg-yellow-400",3,"label"],[1,"flex","align-items-center","gap-2"],[1,"font-semibold","text-600"],[1,"flex","flex-wrap","gap-3","mb-5","py-2"],[1,"mb-5"],[1,"my-5"],[1,"mb-0","mt-5","px-3"],[1,"max-w-2rem","max-h-1rem","ml-3",2,"object-fit","contain","cursor","pointer",3,"src","alt"],[1,"text-gray-400","mb-0","mt-2","px-3","block"],[1,"text-gray-400","mb-0","px-3"],[1,"flex","align-items-center","gap-3","mb-0","p-3"],["styleClass","custom-rating",3,"ngModel","readonly","stars"],[1,"text-600","font-semibold"],[1,"max-w-8rem","max-h-4rem",2,"object-fit","contain",3,"src","alt"],["styleClass","production-chip",1,"bg-blue-100",3,"label"],["target","_blank",1,"website-link","border-yellow-400","text-900","font-semibold","transition-colors","transition-duration-200","no-underline","border-1","border-round-xl","p-3","hover:bg-yellow-300",3,"href"],[1,"pi","pi-external-link","mr-2"]],template:function(e,_){e&1&&d(0,le,23,10,"div",0),e&2&&c(_.tvShow?0:-1)},dependencies:[W,k,M,P,F,B,z,j,N,H,G,K,J,O,A,L,X,Q],encapsulation:2})};export{Y as TvDetailsComponent};
